<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jenkins</title>
    <link rel="stylesheet" href="../css/styles.css" />
  </head>

  <body>
    <h1>Jenkins</h1>
    <h3>Pre-conditions to install</h3>
    <ul>
      <li>
        Install brew from
        <a href="https://brew.sh/"><span>HERE</span></a>
      </li>
      <li>
        Install jenkins from
        <a href="https://www.jenkins.io/"><span>HERE</span></a>
      </li>
    </ul>
    <h3>Glosary</h3>
    <ul>
      <li>
        Jenkins
        <ul>
          <li class="bullet-li">
            Server app for build and test with CI/CD process
          </li>
        </ul>
      </li>

      <li>
        Jenkins Job
        <ul>
          <li class="bullet-li">Scripts that we want to automate</li>
        </ul>
      </li>

      <li>
        Process in CI/CD
        <ul>
          <li class="bullet-li">Code compilation</li>
          <li class="bullet-li">Run test</li>
          <li class="bullet-li">Build a new version of the app</li>
          <li class="bullet-li">Deploy the app to the server</li>
        </ul>
      </li>
    </ul>

    <h3>Jenkins commands</h3>
    <ul>
      <li>
        Install jenkins with brew
        <span class="terminal-commands">&nbsp;brew install jenkins-lts</span>
      </li>
      <li>
        Start Jenkins service
        <span class="terminal-commands"
          >&nbsp;brew services start jenkins-lts</span
        >
      </li>
      <li>
        Restart the Jenkins service
        <span class="terminal-commands"
          >&nbsp;brew services restart jenkins-lts</span
        >
      </li>
      <li>
        Update the Jenkins version
        <span class="terminal-commands">&nbsp;brew upgrade jenkins-lts</span>
      </li>
      <li>
        Stop jenkins services
        <span class="terminal-commands"
          >&nbsp;brew services stop jenkins-lts</span
        >
      </li>
    </ul>
    <h3>Jenkins initial set-up</h3>
    <ol>
      <li>
        Start Jenkins service
        <span class="terminal-commands"
          >&nbsp;brew services start jenkins-lts</span
        >
      </li>
      <li>
        Navigate to the local host 8080
        <a href="http://localhost:8080"><span>HERE</span></a>
      </li>
      <li>Search the path displayed in the jenkins login page</li>
      <li>Search the secret key from the file path</li>
      <li>
        Paste the key in the password field for starting configuration process
      </li>
      <li>Install suggested plugins</li>
      <li>Create an admin user</li>
    </ol>

    <h3>Install pluggins</h3>
    <ul>
      <li>Go to the left menu manage jenkins</li>
      <li>Select pluggins</li>
      <li>
        Useful pluggins
        <ul>
          <li class="bullet-li">NodeJS</li>
          <li class="bullet-li">
            AnsiColor (avoid special characters in the console results)
          </li>
          <li class="bullet-li">
            HTML Publisher plugin (html report for execution)
          </li>
        </ul>
      </li>
    </ul>

    <h3>Configure a free style project</h3>
    <ul>
      <li>Left menu/ new item</li>
      <li>Add a name to a free style project</li>
      <li>
        In General options start to fill the project configurations parameters
      </li>
      <ul>
        <li>
          In git hub project field, you can add your project repo from github
        </li>
        <li>
          In use custom work space, add the path in where your project will be
          allocated after each jenkins build
        </li>
      </ul>
      <img
        class="m-size-50"
        src="../img/jenkins/generalexecutionoption.png"
        alt="general"
      />
    </ul>
    <h3>Set up node environment in a free style project</h3>
    <ul>
      <li>Go to you jenkins project and configure settings</li>
      <li>In build environment check Provide Node & npm bin/ folder to PATH</li>
      <li>Select the node configuration previously setted</li>
      <li>Leave the other parameters by default</li>
      <img
        class="m-size-50"
        src="../img/jenkins/nodeEnvironment.png"
        alt="buildEnvironment"
      />
      <li>In build stepts section, add execute shell</li>
      <li>
        Add the npm command that you have in your project script from your
        package.json
      </li>
      <img
        class="m-size-50"
        src="../img/jenkins/buildStepsts.png"
        alt="buildStepts"
      />
    </ul>
  </body>
</html>
